(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1163,5622,222,8025],{51163:function(e,t,a){"use strict";a.d(t,{ValuationForm:function(){return ex}});var l,n,i=a(57437),o=a(2265),r=a(82929),s=a(22481),d=a(92964),c=a(61471),u=a(40380),h=a(36571),m=a(14390),p=a(3650),f=a(30030),v=a(83105),x=a(49693),y=a(21256),j=a(72462),b=a(44756),g=a(55238),_=a(42144);function w(e){return(0,_.w_)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}var N=a(10796);a(45125);var k=a(17162),S=a.n(k),C=e=>{let{totalSteps:t,currentStep:a,wrapperClassName:l="pt-3 pb-4 overflow-hidden",stepData:n,stepHeadingClass:o}=e,r=[...Array(t).keys()],s=!m.default.halfDarkMode&&m.default.darkMode;return r.length<2?(0,i.jsx)(i.Fragment,{}):(0,i.jsxs)("div",{className:l,children:[(0,i.jsx)("nav",{className:"d-none d-lg-flex nav nav-pills flex-row justify-content-around position-relative mb-3",children:r.length>1&&r.map((e,t)=>(0,i.jsxs)("div",{className:(0,N.cn)(S().StepContainer,"d-flex flex-column align-items-center text-center px-2"),style:{width:"calc(100% / ".concat(r.length,")")},children:[(0,i.jsx)("div",{className:(0,N.cn)(S().StepNumber,n&&S().StepData),children:(0,i.jsx)("div",{className:(0,N.cn)(S().Step,"nav-link rounded-circle d-flex",a===e+1||a>e+1?S().ActiveStep:s?"bg-dark":""),children:a&&a>e+1?(0,i.jsx)(w,{size:20,style:{marginLeft:"-0.25rem",marginRight:"-0.25rem"}}):e+1})}),n&&(0,i.jsx)("p",{className:"mt-2 mb-0 ".concat(a===e+1&&"font-weight-bold"),children:n[t].heading})]},"step-".concat(t)))}),(0,i.jsxs)("div",{className:"d-flex d-lg-none justify-content-between px-4 px-sm-3 mb-4",children:[(0,i.jsx)(g.Ip,{className:S().CircularStepper,styles:(0,g.y3)({textColor:"#000",textSize:"1.5rem",pathColor:"var(--stepper-active-color)"}),value:a,maxValue:r.length,text:"".concat(a," of ").concat(r.length)}),n&&(0,i.jsxs)("div",{className:"text-right pl-2",children:[(0,i.jsx)("h3",{className:(0,N.cn)(o,"mb-1 mb-sm-2"),children:n[a-1].heading}),a!==r.length&&(0,i.jsxs)("p",{className:"m-0",children:["Next: ",n[a].heading]})]})]})]})},I=a(44319),V=a(47931),F=a(74059),O=a(66612),E=a(29501),D=a(30166),M=a(46668),P=a(47211);let G=s.default;var R=e=>{let{placeholder:t="Please select a dealership...",locations:a=G.locations,make:l,locationType:n,showCityName:r=!1,useDealership:s=!1,...d}=e,c=s?"dealership_id":"location_id",{watch:u,setValue:h}=(0,E.Gc)(),[m,p]=(0,o.useState)(!1),[f,v]=(0,o.useState)(null),[x,y]=(0,o.useState)(""),j=u().postcode,b=(0,o.useMemo)(()=>{let e=[...a];return l&&(e=e.filter(e=>e.manufacturers.includes(l))),n&&(e=(0,M.eq)(e,null==n?void 0:n.toLowerCase())),f&&(e=e.map(e=>({...e,distance:(0,M.cL)(f.lat,f.lng,parseFloat(e.address.lat),parseFloat(e.address.long))})).sort((e,t)=>e.distance-t.distance)),(0,M.QB)(e,r,s)},[n,a,l,r,s,f]),g=(0,o.useCallback)(async()=>{if(4==="".concat(j).length&&j!==x){y(j);try{let{lat:e,lng:t}=await (0,M.kL)(j);v({lat:e,lng:t})}catch(e){console.error(e.message)}}},[x,j]);return((0,o.useEffect)(()=>{m||1!==b.length||(h(c,b[0].value),p(!0)),j&&g()},[m,g,c,b,j,h]),b&&0!==b.length)?(0,i.jsx)(P.Z,{defaultValue:"",placeholder:t,options:b||[],...d,name:c}):null},A=a(75346),q=a(23930),L=a(98953),Z=a(29530),T=a(98025),W=a(95065),Y=a(28958),z=a(21099),B=a(86171),U=a(4365),$=a.n(U);let H=(0,D.default)(()=>Promise.all([a.e(8218),a.e(2369)]).then(a.bind(a,32369)),{loadableGenerated:{webpack:()=>[32369]},ssr:!1}),K=e=>{var t,a;let{car:l}=e;return!(null===(t=m.default.valuationWizard)||void 0===t?void 0:t.locationSelect)||(null==l?void 0:l.id)?null:(null===(a=m.default.valuationWizard)||void 0===a?void 0:a.CustomLocationInput)?(0,i.jsx)(m.default.valuationWizard.CustomLocationInput,{}):F.HmL?(0,i.jsx)("div",{className:"col-12",children:(0,i.jsx)(R,{locationType:"sales",label:"Select A Location Near You",useDealership:!0})}):(0,i.jsx)("div",{className:"col-12",children:(0,i.jsx)(T.default,{locationType:"sales",label:"Preferred Dealership"})})},J=e=>{let{data:t}=e;return(0,i.jsxs)("div",{className:$().vehicleCheck,children:[(0,i.jsx)("p",{children:"Your Vehicle:"}),(0,i.jsxs)("h5",{children:[t.year," ",t.make," ",t.model]}),(0,i.jsx)("h6",{className:"card-subtitle text-muted mb-2",children:t.badge}),(0,i.jsx)("small",{className:"text-center",children:"There's a chance these details might not match your car. Please double check that they are correct for your car before proceeding."}),F.el2&&(0,i.jsxs)("small",{className:"text-center",children:["Please ensure the details of your car are correct - if not, your on-screen offer may not be accurate and will not be valid. In this case, please"," ",(0,i.jsx)(V.default,{href:"/contact",children:"contact"})," one of our locations below to discuss your vehicle in person."]})]})},X=()=>{let[e]=(0,d.KO)(h.Gp);return e?(0,i.jsx)("div",{className:(0,N.cn)($().exclusionMessage,"bg-danger mx-2"),children:(0,i.jsx)("div",{children:e})}):null};var Q=a(80222),ee=a(21701),et=a(90617),ea=a(63046),el=a(62869),en=a(29299);let ei=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h4",{children:"Happy with the estimated value?"}),(0,i.jsx)("p",{children:'Click "Accept Offer," and our team will reach out to schedule your vehicle inspection. By accepting this offer, you confirm that the information provided in this online valuation is accurate and that you have disclosed any existing damage to the vehicle.'})]}),eo=()=>{let[e,t]=(0,o.useState)(!1),{watch:a}=(0,E.Gc)(),l=a("reason_for_not_accepting_offer");return e?(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{children:"What is the main reason you didn't accept our price valuation?"}),(0,i.jsx)("p",{children:"Please select an option below"}),(0,i.jsx)(ea.default,{name:"reason_for_not_accepting_offer",formItem:{name:"reason_for_not_accepting_offer",label:"Reason for not accepting offer"},defaultValue:"",options:["Not the price I was expecting","I'm not ready to sell - I was just curious as to my car's value","I got a better price elsewhere","Other"],label:!1,direction:"column",className:"mx-auto max-w-lg"}),"Not the price I was expecting"===l&&(0,i.jsx)("div",{className:"mx-auto max-w-96",children:(0,i.jsx)(et.default,{name:"expected_price",label:"What price did you expect?",placeholder:"Please enter a price amount"})}),(0,i.jsx)(b.Mm,{children:"Send Feedback"})]}):(0,i.jsx)(i.Fragment,{children:ee.kU?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h4",{children:"Are you ready to accept this offer?"}),(0,i.jsx)("p",{children:"Please select an option below"}),(0,i.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,i.jsx)(el.z,{type:"submit",children:"Accept Offer"}),(0,i.jsx)(el.z,{outline:!0,type:"button",onClick:()=>t(!0),children:"No Thanks"})]})]}):m.default.valuationWizard.OfferContent?(0,i.jsx)(m.default.valuationWizard.OfferContent,{}):F.$FC?(0,i.jsx)(ei,{}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h4",{children:"Happy with the estimated value?"}),(0,i.jsx)("p",{children:"Please submit an enquiry to proceed"})]})})};var er=a(31581),es=a(35847);let ed=[{name:"vehicle-details",type:"CUSTOM",component:e=>{var t,a,l,n;let{car:o,dark:r,termsMessage:c,resetForm:u,setSwitchToTradeIn:p,recentSearchError:f,vehicleSearchError:v}=e,{isSubmitted:x,isSubmitting:y}=(0,E.cl)(),{setValue:j}=(0,E.Gc)(),[b]=(0,d.KO)(h.$i),[g]=(0,d.KO)(h.Gp),_=F.HmL;if(b.offer_price)return(0,i.jsx)(B.$,{});let w=b.id&&x,k=F.el2?"Confirm Vehicle for Offer":"Search Vehicle";return(0,i.jsxs)("div",{className:(0,N.cn)(r&&"text-white","px-md-2 container"),children:[!F.el2&&(0,i.jsx)(X,{}),(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-12 col-md-6",children:(0,i.jsx)(A.Z,{name:"kms",placeholder:"Vehicle Kilometers",label:!0})}),(0,i.jsx)("div",{className:"col-12 col-md-6",children:(0,i.jsx)(P.Z,{name:"regoState",placeholder:"State",label:!0,defaultValue:(null===s.default||void 0===s.default?void 0:null===(t=s.default.address)||void 0===t?void 0:t.state)?null===s.default||void 0===s.default?void 0:null===(a=s.default.address)||void 0===a?void 0:a.state:"",options:z.$q.map(e=>({label:e,value:e}))})}),_&&(0,i.jsx)("div",{className:"col-12 col-md-6",children:(0,i.jsx)(q.default,{name:"postcode",placeholder:"Postcode",label:!0})}),(0,i.jsxs)("div",{className:(0,N.cn)("col-12",_&&"col-md-6"),children:[(0,i.jsx)(L.Z,{name:"rego",placeholder:m.default.valuationWizard.customRegoField?m.default.valuationWizard.customRegoField:"Number Plate",label:!0}),(null===(l=m.default.valuationWizard)||void 0===l?void 0:l.imNotSure)&&(0,i.jsx)("div",{children:(0,i.jsx)("small",{className:$().ImNotSure,onClick:()=>p(!0),children:"I'm not sure.."})}),!1]}),(F.EY6||F.pA9)&&(0,i.jsx)(Y.MR,{}),(0,i.jsxs)("div",{className:"col-12",children:[!F.EY6&&!F.pA9&&!F.Cp$&&(0,i.jsx)(O.Z,{label:!0}),(0,i.jsx)(Z.Z,{name:"message",label:"Enquiry Details",placeholder:"Please specify your trade-in enquiry.",required:!1,rows:5})]}),(null===(n=m.default.valuationWizard)||void 0===n?void 0:n.CustomFields)&&(0,i.jsx)(m.default.valuationWizard.CustomFields,{car:o}),(0,i.jsx)(K,{car:o}),!F.EY6&&!F.pA9&&(0,i.jsx)("div",{className:"col-12",children:(0,i.jsx)(H,{})})]}),(0,i.jsx)("small",{style:{color:"#6c757d"},children:c}),(0,i.jsx)(X,{}),(0,i.jsx)("div",{className:"row justify-content-center",children:w||g?(0,i.jsx)("button",{className:(0,N.cn)($().searchButton,"btn mt-3",F.c1m?"btn-primary":F.EoA?"btn-secondary":"btn-danger"),onClick:()=>{j("rego",""),u()},type:"button",children:"Start New Search"}):(0,i.jsxs)("button",{className:$().searchButton+" btn btn-primary mt-3",type:"submit",children:[k," ",y&&!b.id&&(0,i.jsx)(W.Z,{})]})}),w&&(0,i.jsx)(J,{data:b}),v&&(0,i.jsxs)("div",{className:$().vehicleCheck,children:[(0,i.jsx)("p",{children:"Sorry, we couldn`t find your vehicle."}),(0,i.jsx)("p",{children:"Please check your details and try again."})]}),f&&(0,i.jsxs)("div",{className:$().vehicleCheck,children:[(0,i.jsx)("p",{children:"Sorry, you've already searched with those details."}),(0,i.jsx)("p",{children:"Please update your Number Plate or State details and try again."})]})]},"vehicleDetailsStep")}}],ec=[{name:"vehicle-conditions",type:"CUSTOM",component:e=>{let{dark:t}=e,a=m.default.darkMode,[l]=(0,d.KO)(h.$i),n=(0,o.useMemo)(()=>{var e;let t=null!==(e=null==l?void 0:l.form_questions)&&void 0!==e?e:[];return F.Cp$?[...ee.Bs.filter(e=>"adjustments.forSale"!==e.name),{name:"numberOfKeys",type:"number",label:"How many keys does the vehicle have?",required:!0,placeholder:"Enter number of keys here.",options:[]},{name:"postcode",type:"number",label:"Residential Postcode",required:!0,placeholder:"Enter your postcode here.",options:[]}]:F.$FC?[...ee.Bs,{name:"damage",type:"textarea",label:"Please provide details of any known damage to the vehicle.",required:!1,placeholder:"Enter known damage here.",options:[]}]:(null==t?void 0:t.length)===0?ee.Bs:t.map(e=>{var t,a;return{name:"adjustments.".concat((0,es.XB)(e.question)),type:"button",label:e.question,options:null!==(a=null===(t=e.answers)||void 0===t?void 0:t.map(e=>null==e?void 0:e.answer))&&void 0!==a?a:[]}})},[null==l?void 0:l.form_questions]);return(0,i.jsx)("div",{className:(0,N.cn)((t||a)&&"text-white","px-md-2 container"),children:n.map((e,t)=>(0,i.jsx)(er.Z,{...e},e.name+t))},"vehicleConditionStep")}}],eu=[{name:"valuation",type:"CUSTOM",component:e=>{var t,a,l;let{dark:n}=e,[o]=(0,d.KO)(h.$i),r=(null==o?void 0:o.valuation_range)?"We estimate your car is valued between the range of ":"Based on the details you have provided, estimated value for your ".concat(o.year,"\n      ").concat(o.make," ").concat(o.model," is");return(0,i.jsx)("div",{className:(0,N.cn)(n&&"text-white","px-md-2 container"),children:(0,i.jsxs)("div",{className:"container text-center",children:[(0,i.jsx)(en.Hc,{children:r}),(0,i.jsx)("hr",{}),(0,i.jsx)("div",{className:"text-success",children:o.offer_price?(0,i.jsx)(i.Fragment,{children:o.exclusion?(0,i.jsx)("h5",{children:"We are unable to provide an online valuation - However, we would love to give you an on-site valuation."}):(null==o?void 0:o.valuation_range)?(0,i.jsxs)("h3",{children:[o.valuation_range,"*"]}):(0,i.jsxs)("h3",{children:[(l=null==o?void 0:null===(t=o.offer_price)||void 0===t?void 0:t.toString())?"$"+parseInt(l).toFixed(0).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):"$0.00","*"]})}):(0,i.jsx)(W.Z,{})}),F.e5n&&(0,i.jsx)("p",{className:"small mt-0",children:"All offers made by ".concat(s.default.name," for the trade-in or sale of your vehicle are\n          subject to inspection and verification by ").concat(s.default.name,". The final offer value\n          will be confirmed upon viewing the vehicle in person.")}),(0,i.jsx)("p",{className:"small mt-0",children:F.J1E?"Please note that the estimated value is a guide only and may change after the physical inspection. Any additional accessories fitted to your vehicle will be taken into account during the inspection.":"*Estimate does not take into consideration any additional accessories you might have had fitted to the car. We will factor those in at inspection."}),!o.exclusion&&(0,i.jsx)(eo,{}),(null===(a=m.default.forms)||void 0===a?void 0:a.CustomFormDisclaimer)&&(0,i.jsx)(m.default.forms.CustomFormDisclaimer,{})]})})}}],eh=[{type:"CUSTOM",name:"user-details",component:e=>{let{car:t}=e;return"verificationSent"===(0,d.Dv)(x.F)?(0,i.jsxs)("div",{children:[(0,i.jsx)("h5",{className:"mt-2 mb-3",children:"We just need to verify it’s you…"}),(0,i.jsx)(L.Z,{name:"code",label:"Verification code",placeholder:"Verification code",help:"Check your phone for an SMS from TWVerify",rules:{validate:e=>6===e.length||"You have not entered the correct value"}})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)(O.Z,{label:!0}),(0,i.jsx)(A.Z,{name:"kms",label:"Vehicle Kilometers",placeholder:"Vehicle Kilometers"}),!F.Cp$&&(0,i.jsx)(Z.Z,{name:"message",label:"Enquiry Details",placeholder:"Please specify your trade-in enquiry."}),(0,i.jsx)(K,{car:t}),(0,i.jsx)(Q.default,{})]})}}],em=F.qvG?"Estimated Online Valuation":F.ooc?"Estimated Online Valuation":F.el2?"Get Instant Offer*":"Estimated Valuation Offer",ep={"Rego Lookup":{fields:[{name:"rego",type:"rego",lookupType:"autograb"}],heading:"Find Your Car",description:"Please fill in your vehicle’s details below."},"User Details":{fields:eh,heading:"User Details",description:"Please fill in your details below"},"Vehicle Details":{fields:ed,heading:"Vehicle Details",description:F.iYi?"Please fill in your vehicle’s details below for a system generated instant offer":F.el2?"To get your instant on-screen offer, please enter details below.":"Please enter your vehicle's odometer, state and registration details."},"Vehicle Conditions":{fields:ec,heading:"Vehicle Conditions",description:""},"Valuation Offer":{fields:eu,heading:em,description:""}},ef=F.el2?"Oh no! We can't give an on-screen offer on this car \uD83D\uDE1F. Please get in touch with our friendly team at one of the locations below \uD83D\uDE0A.":"Unfortunately, we’re unable to provide an online valuation for this vehicle right now. Please contact our team and we’ll be happy to assist you.",ev=(null===(n=s.default.dealerships)||void 0===n?void 0:null===(l=n[0])||void 0===l?void 0:l.four_step_valuation_form)||F.kaK||F.el2,ex=e=>{var t,a;let{page_id:l,customTermsMessage:n=!1,removeWidth:g=!1,car:_,setSwitchToTradeIn:w,submitCallback:k}=e,S=(0,f.i)(),{loginStatus:O,user:E,setUser:D,signInWithOtp:M,verifyOtp:P}=(0,x.Y)(),G=(0,o.useRef)(null),{stepKeys:R,steps:A}=(0,v.G)(ep,ev?["Vehicle Details"]:["Rego Lookup","User Details"]),q=(0,v.w)(A),{isLastStep:L,nextStep:Z,stepIndex:T,setCurrentError:W}=q,Y=R[T],z=_?18:40,B=_?52:43,U=_?53:50,H=r.ZP[z].eventCategory,[K,J]=(0,d.KO)(h.$i),X=(0,u.ZG)(),Q=(0,d.b9)(c.m4),et=(0,d.b9)(h.Gp),[ea,el]=(0,o.useState)(!1),[en,ei]=(0,o.useState)(!1),[eo,er]=(0,o.useState)(!1);(0,o.useEffect)(()=>{F.SL0&&w(!0)},[w]);let es=()=>{J({}),W(""),et(""),el(!1)},ed=async e=>{let t=null==X?void 0:X.firstPageQuery,a=null==X?void 0:X.visitedPages,l=ev?e["Vehicle State"]:e.regoState;if(L){let{email:t,phone:a,message:l,postcode:n}=e,i=!e.reason_for_not_accepting_offer,o={category:H,subcategory:i?"3. Offer Accepted":"4. Offer Rejected",lead_id:K.lead_id,form_completed:!0,offer_accepted:i,message:l,postcode:n};return i||(o.reason_for_not_accepting_offer=e.reason_for_not_accepting_offer),(0,y.Af)(o).then(()=>((0,I._c)({eventId:z,userData:{email:t,phone:a}}),(null==_?void 0:_.id)&&Q(_),k&&"function"==typeof k)?k():(0,y.lM)(S,r.ZP[z].eventCategory,i?void 0:[{key:"offer_rejected",value:e.reason_for_not_accepting_offer}]))}switch(Y){case"Rego Lookup":Z();break;case"User Details":{(0,I._c)({eventId:43,userData:{email:e.email,phone:e.phone}});let i=await (0,h.CE)({userData:{...e,rego_state:l},car:_,firstPageQuery:t,visitedPages:a});if(null==i?void 0:i.lead_id){if(J({...i,offer_price:null}),i.exclusion)W(ef);else if(ee.vj&&!E){let t=(0,N.HQ)(e.phone);if("verificationSent"===O){let a=await P(t,e.code);(null==a?void 0:a.id)&&(D(a),Z())}else await M(t,e)}else Z()}else{var n;W(null!==(n=null==i?void 0:i.error)&&void 0!==n?n:"An unknown error occured: A vehicle valuation cannot be provided at this time.")}break}case"Vehicle Details":if(ea)Z();else{if(K.rego===e.rego&&K.rego_state===l){ei(!0);break}(0,I._c)({eventId:B,userData:{email:e.email,phone:e.phone}}),J({});let n=await (0,h.CE)({userData:{...e,rego_state:l},car:_,firstPageQuery:t,visitedPages:a});(null==n?void 0:n.lead_id)?(J({...n,offer_price:null}),er(!1),W(""),n.exclusion?et(ef):el(!0)):(er(!0),(null==n?void 0:n.error)?W(null==n?void 0:n.error):W("An unknown error occured: A vehicle valuation cannot be provided at this time."))}break;case"Vehicle Conditions":{(0,I._c)({eventId:U,userData:{email:e.email,phone:e.phone}});let t=await (0,h.uB)({adjustments:e.adjustments,id:K.id});(null==t?void 0:t.offer_price)?(G.current.scrollIntoView(),J({...K,...t}),Z()):(null==t?void 0:t.error)?W(null==t?void 0:t.error):W("An unknown error occured: A vehicle valuation cannot be provided at this time.")}}},ec=(0,i.jsx)("span",{children:n||(0,i.jsx)(i.Fragment,{children:(null===s.default||void 0===s.default?void 0:null===(t=s.default.valuation)||void 0===t?void 0:t.valuation_terms_and_conditions_url)&&(0,i.jsxs)(i.Fragment,{children:["By clicking search I agree with the"," ",(0,i.jsx)(V.default,{href:F.EY6?"/pages/sell-your-car-terms-and-conditions":null===s.default||void 0===s.default?void 0:null===(a=s.default.valuation)||void 0===a?void 0:a.valuation_terms_and_conditions_url,children:"Terms and Conditions*"})]})})}),eu=!m.default.halfDarkMode&&m.default.darkMode;return(0,i.jsx)("div",{className:$().formContainer,children:(0,i.jsxs)("div",{ref:G,className:"overflow-hidden ".concat($().formBody," ").concat(g?"":$().formWidth," ").concat(eu?"bg-dark":"bg-white"),children:[(0,i.jsx)(C,{totalSteps:R.length,currentStep:T+1,wrapperClassName:(0,N.cn)("w-100 pt-3 pb-0 overflow-hidden",eu?"text-white":""),stepData:R.map(e=>({heading:ep[e].heading,description:ep[e].description})),stepHeadingClass:$().stepHeading}),(0,i.jsxs)(b.l0,{className:(0,N.cn)(eu&&"text-white","w-100 px-2"),onSubmit:ed,defaultValues:{regoState:s.default.address.state,category:H,page_id:null!=l?l:null},children:[R.map((e,t)=>t!==T?null:(0,i.jsx)(j.p,{currentFields:ep[e].fields,heading:ep[e].heading||e,cardContentClassName:"px-0 px-md-4",description:ep[e].description,index:t,multiStep:q,headerProps:{className:(0,N.cn)("d-none",eu&&"text-white","User Details"===Y&&"verificationSent"===O?"d-lg-none":"d-lg-block")},buttonProps:{disabled:"Vehicle Details"===Y&&!ea,className:"Rego Lookup"===Y?"d-none":"Valuation Offer"===Y&&ee.kU?"d-none":void 0},backButtonProps:{className:L?"d-none":void 0},car:_,termsMessage:ec,resetForm:es,vehicleSearchError:eo,recentSearchError:en,setSwitchToTradeIn:w,submitBtnText:F.qvG||F.ooc?"Enquire Now":F.zVb?"Submit Enquiry":F.e5n?"Accept Estimated Valuation Offer":"Accept Offer"},e)),(0,i.jsx)(ee.lB,{}),(0,i.jsx)(p.Z,{})]})]},"valuationForm")})}},86171:function(e,t,a){"use strict";a.d(t,{$:function(){return r}});var l=a(57437),n=a(92964),i=a(36571),o=a(66070);let r=e=>{var t;let{isSuccessPage:a}=e,[r,s]=(0,n.KO)(i.$i);return(null==r?void 0:r.make)?(0,l.jsxs)(o.Zb,{className:"mb-3",style:{borderRadius:"1rem"},children:[(0,l.jsxs)(o.Ol,{children:[(0,l.jsx)(o.ll,{className:"text-primary",style:{fontSize:"1.25rem"},children:"Your Current Trade-In Vehicle"}),!a&&(0,l.jsxs)(o.SZ,{children:["You have already received a valuation for this ",null==r?void 0:r.year," ",null==r?void 0:r.make,"\xa0",null==r?void 0:r.model,". If you have another vehicle you would like to trade-in, get started below."]})]}),(0,l.jsx)(o.aY,{children:(0,l.jsxs)("ul",{className:"mb-0",children:[(null==r?void 0:r.make)&&(0,l.jsxs)("li",{children:["Your Vehicle:\xa0",(0,l.jsxs)("strong",{children:[null==r?void 0:r.year," ",null==r?void 0:r.make," ",null==r?void 0:r.model]})]}),(null==r?void 0:r.offer_price)&&!(null==r?void 0:r.valuation_range)&&(0,l.jsxs)("li",{children:["Estimated Valuation: ",(0,l.jsxs)("strong",{children:["$",null==r?void 0:null===(t=r.offer_price)||void 0===t?void 0:t.toLocaleString()]})]})]})}),(0,l.jsx)(o.eW,{children:!a&&(0,l.jsx)("button",{className:"btn btn-primary",onClick:()=>s({}),children:"Add Another Vehicle"})})]}):null}},21701:function(e,t,a){"use strict";a.d(t,{Bs:function(){return c},kU:function(){return h},lB:function(){return u},vj:function(){return m}});var l,n,i=a(2265),o=a(29501),r=a(22481),s=a(30030),d=a(74059);let c=[{name:"adjustments.forSale",type:"button",label:"Is your car currently for sale?",options:["Yes","No"]},{name:"adjustments.documentation",type:"button",label:"Describe your vehicles service documentation?",options:["Full manufacturer service documentation","Partial service history with service documentation","Missing books"]},{name:"adjustments.condition",type:"button",label:"Describe your vehicles condition",options:["Excellent","Good","Poor"]},{name:"adjustments.mechanicalCondition",type:"button",label:"Describe your vehicles Mechanical condition",options:["Good/No issues","Poor/Some Issues"]},{name:"adjustments.dashlights",type:"button",label:"Are there any dash warning lights on your vehicle?",options:["No","Yes"]},{name:"adjustments.roadworthyTyres",type:"button",label:"In your opinion are your tyres in a roadworthy condition?",options:["Yes","No"]},{name:"adjustments.windscreenCondition",type:"button",label:"Is your windscreen free from cracks and scratches?",options:["Yes","No"]}],u=()=>{var e;let t=(0,s.i)(),{setValue:a}=(0,o.Gc)();return(0,i.useEffect)(()=>{var e;(null==t?void 0:null===(e=t.query)||void 0===e?void 0:e.source)==="autograb"&&a("leadSource",t.query.source)},[null==t?void 0:null===(e=t.query)||void 0===e?void 0:e.source,a]),null},h=null===(n=r.default.dealerships)||void 0===n?void 0:null===(l=n[0])||void 0===l?void 0:l.enable_valuation_offer_rejection,m=r.default.garage_enabled&&(d.vHo||d.baD||d.c1m||d.cP&&!d.m6I)},49693:function(e,t,a){"use strict";a.d(t,{F:function(){return m},Y:function(){return p}});var l=a(2265),n=a(22481),i=a(93915),o=a(92964),r=a(99376),s=a(69133),d=a(86139),c=a(44319),u=a(93190);let h={sendSms:"sms",handleVerification:"verify"},m=(0,i.cn)("default"),p=()=>{let{user:e,setUser:t}=(0,s.z)(),[a,i]=(0,o.KO)(m),p=(0,o.b9)(d.cE),f=(0,u.e)(),v=(0,r.useRouter)(),x=(0,l.useCallback)(async(e,t)=>{var a,l,o;if(!(await fetch("/api/rate-limit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:e})})).ok)throw Error("Too many verification attempts. Please try again later.");let{error:r}=await f.auth.signInWithOtp({phone:e,options:{data:{first_name:null!==(a=t.name)&&void 0!==a?a:"",last_name:null!==(l=t.last_name)&&void 0!==l?l:"",email:null!==(o=t.email)&&void 0!==o?o:"",website:n.default.slug,dealership_slug:n.default.dealership_slug}}});if(r)throw r;{i("verificationSent");let a=await fetch("/api/check-if-contact-exists?phone_number=".concat(e)).then(e=>e.json());return(null==a?void 0:a.error)&&console.error("An error occurred: ",a.error),await f.from("verifications").insert({website_slug:n.default.slug,dealership_slug:n.default.dealership_slug,phone:e,verification_type:h.sendSms}),(0,c._c)({eventId:36,userData:t}),a.data}},[i,f]),y=(0,l.useCallback)(async(e,t)=>{let{data:{user:a},error:l}=await f.auth.verifyOtp({phone:e,token:t,type:"sms"});if(l)throw l;if(null==a?void 0:a.id)return i("verificationSubmitted"),await f.from("verifications").insert({user_id:a.id,website_slug:n.default.slug,dealership_slug:n.default.dealership_slug,phone:e,verification_type:h.handleVerification}),(0,c._c)({eventId:37}),a},[i,f]),j=(0,l.useCallback)(async()=>{let{error:e}=await f.auth.signOut();if(e)throw e;v.refresh(),t(null),p({})},[f.auth,v,t,p]);return(0,l.useMemo)(()=>({loginStatus:a,user:e,setUser:t,signInWithOtp:x,verifyOtp:y,signOut:j}),[a,e,t,x,y,j])}},15622:function(e,t,a){"use strict";a.r(t);var l=a(57437),n=a(2265),i=a(29501),o=a(35847),r=a(38735);t.default=(0,r.Z)({enableLabel:!1,wrapperClassName:"form-check"})(e=>{let{formItem:t,value:a,onChange:r,checkedItems:s=[],setCheckedItems:d,customLabel:c,style:u}=e,{getValues:h}=(0,i.Gc)(),[m,p]=(0,n.useState)(null);return((0,n.useEffect)(()=>{d&&(!0===h()[t.name]?s.includes(t.name)||d([...s,t.name]):s.includes(t.name)&&d(s.filter(e=>e!==t.name)))},[h()]),(0,n.useEffect)(()=>{m||p("".concat((0,o.XB)((null==t?void 0:t.name)||""),"-").concat(Math.floor(1e3*Math.random())))},[null==t?void 0:t.name,m]),m)?(0,l.jsxs)("div",{className:"my-2",children:[(0,l.jsx)("input",{className:"form-check-input",type:"checkbox",checked:!!a,id:m,onChange:r,style:u}),c?(0,l.jsx)("label",{className:"form-check-label",htmlFor:m,children:(0,l.jsx)(t.label,{})}):(0,l.jsx)("label",{className:"form-check-label",htmlFor:m,dangerouslySetInnerHTML:{__html:(null==t?void 0:t.label)||""}})]}):null})},80222:function(e,t,a){"use strict";a.r(t);var l=a(57437),n=a(15622);t.default=e=>{let{required:t=!1}=e;return(0,l.jsx)(n.default,{name:"opt_in",label:"Yes, I would like to subscribe to receive latest offers & product updates.",required:t})}},63046:function(e,t,a){"use strict";a.r(t),a.d(t,{RadioGroupInput:function(){return s}});var l=a(57437);a(2265);var n=a(29501),i=a(14110),o=a(10796),r=a(38735);let s=e=>{let{formItem:t,defaultValue:a,options:r,radioType:s="radio",direction:d="row",buttonClassName:c,className:u}=e,{name:h}=t,{watch:m,setValue:p}=(0,n.Gc)(),f=m(h);return(0,l.jsx)(i.Ee,{className:(0,o.cn)("mb-3 gap-4",u),onValueChange:e=>{p(h,e)},defaultValue:null!=f?f:a,direction:d,children:r.map(e=>(0,l.jsx)(i.WC,{value:"object"==typeof e?e.value:e,label:"object"==typeof e?e.label:e,type:s,buttonClassName:c,testId:"".concat(h,"-").concat("object"==typeof e?e.value:e),checked:f===("object"==typeof e?e.value:e)},"".concat(h,"-").concat("object"==typeof e?e.value:e)))})};t.default=(0,r.Z)({enableLabel:!0})(s)},98025:function(e,t,a){"use strict";a.r(t);var l=a(57437),n=a(2265),i=a(29501),o=a(22481),r=a(46668),s=a(74059),d=a(47211);t.default=e=>{let{placeholder:t="Please select a dealership...",locations:a=o.default.locations,make:c,locationType:u,showCityName:h,hardcodedLocations:m,...p}=e,{setValue:f,watch:v}=(0,i.Gc)(),[x,y]=(0,n.useState)(!1),j=v("location_id"),b=(0,n.useMemo)(()=>{let e=null!=a?a:[];if(c&&(e=e.filter(e=>e.manufacturers.includes(null==c?void 0:c.replace(" ","-")))),u&&(e=(0,r.eq)(e,u.toLowerCase())),m&&(null==m?void 0:m.length)>0&&(e=m),s.okV){let t=[3844,3845,3847,3846];e=e.filter(e=>!t.includes(e.id))}return e.map(e=>({name:h?e.address.city:e.name,value:e.id}))},[m,u,a,c,h]);return((0,n.useEffect)(()=>{x||1!==b.length||(f("location_id",b[0].value),y(!0))},[x,b,f]),(0,n.useEffect)(()=>{s.n_n&&(0,r.qt)({locations:o.default.locations,locationId:j,setValue:f})},[j,a,f]),b&&0!==b.length)?(0,l.jsx)(d.Z,{defaultValue:"",placeholder:t,options:b||[],...p,name:"location_id"}):null}},14110:function(e,t,a){"use strict";a.d(t,{Ee:function(){return d},WC:function(){return u}});var l=a(57437),n=a(2265),i=a(68023),o=a(10796),r=a(9511),s=a.n(r);let d=n.forwardRef((e,t)=>{let{className:a,direction:n,...r}=e;return(0,l.jsx)(i.fC,{className:(0,o.cn)(s().RadioGroup,"row"===n?"flex-row":"flex-column",a),...r,ref:t})});d.displayName=i.fC.displayName;let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,l.jsx)(i.ck,{ref:t,className:(0,o.cn)(s().RadioGroupItem,a),...n,children:(0,l.jsx)(i.z$,{className:s().RadioGroupIndicator,children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-circle",children:(0,l.jsx)("circle",{cx:"12",cy:"12",r:"10"})})})})});c.displayName=i.ck.displayName;let u=e=>{let{value:t,label:a,className:i,type:r="radio",buttonClassName:d,testId:u,checked:h,...m}=e,[p,f]=n.useState(null);return(n.useEffect(()=>{p||f("".concat(t,"-").concat(Math.floor(1e3*Math.random())))},[t,p]),p)?(0,l.jsxs)("div",{...m,className:(0,o.cn)(s().RadioGroupItemContainer,i),children:[(0,l.jsx)(c,{value:t,id:p,"data-testid":"radio-".concat(t),className:(0,o.cn)("button"===r?"d-none":void 0)}),(0,l.jsx)("label",{className:(0,o.cn)("button"!==r&&s().Label,d),htmlFor:p,"data-testid":u,"data-selected":h,children:null!=a?a:t.charAt(0).toUpperCase()+t.slice(1)})]}):null}},93190:function(e,t,a){"use strict";a.d(t,{e:function(){return n}});var l=a(36614);function n(){return(0,l.createBrowserClient)("https://ehghoaqckfuralyyfqak.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVoZ2hvYXFja2Z1cmFseXlmcWFrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjc5MzU0ODMsImV4cCI6MjA0MzUxMTQ4M30.yjilkYpi-O8_84v0QqLLvIOssUFK-OMTEOUKAEYqFk8")}},4365:function(e){e.exports={xs:"min-width: 400px",sm:"min-width: 576px","sm-down":"max-width: 576px",md:"min-width: 768px","md-down":"max-width: 768px",lg:"min-width: 992px","lg-down":"max-width: 992px",xl:"min-width: 1200px","xl-down":"max-width: 1200px",xxl:"min-width: 1400px",formContainer:"ValuationForm_formContainer__I4e4g",vehicleCheck:"ValuationForm_vehicleCheck__tx9s7",formBody:"ValuationForm_formBody__zTaFY",formWidth:"ValuationForm_formWidth__FaL34",searchButton:"ValuationForm_searchButton__MN9UT",exclusionMessage:"ValuationForm_exclusionMessage__plsLZ",ImNotSure:"ValuationForm_ImNotSure__PTpMf",stepHeading:"ValuationForm_stepHeading__EFtZD"}},17162:function(e){e.exports={xs:"min-width: 400px",sm:"min-width: 576px","sm-down":"max-width: 576px",md:"min-width: 768px","md-down":"max-width: 768px",lg:"min-width: 992px","lg-down":"max-width: 992px",xl:"min-width: 1200px","xl-down":"max-width: 1200px",xxl:"min-width: 1400px",Step:"Stepper_Step__8ipkJ",ActiveStep:"Stepper_ActiveStep__wMw_k",StepNumber:"Stepper_StepNumber__u1ur7",StepData:"Stepper_StepData__HyMcN",StepContainer:"Stepper_StepContainer__CN_xO",CircularStepper:"Stepper_CircularStepper__YoAgv"}},9511:function(e){e.exports={xs:"min-width: 400px",sm:"min-width: 576px","sm-down":"max-width: 576px",md:"min-width: 768px","md-down":"max-width: 768px",lg:"min-width: 992px","lg-down":"max-width: 992px",xl:"min-width: 1200px","xl-down":"max-width: 1200px",xxl:"min-width: 1400px",RadioGroup:"RadioGroup_RadioGroup__GLdsx",RadioGroupItem:"RadioGroup_RadioGroupItem___Fn76",RadioGroupIndicator:"RadioGroup_RadioGroupIndicator__Iz8y2",RadioGroupItemContainer:"RadioGroup_RadioGroupItemContainer___q5HS",Label:"RadioGroup_Label__w_8qS"}}}]);